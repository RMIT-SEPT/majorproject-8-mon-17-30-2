(this.webpackJsonpsept=this.webpackJsonpsept||[]).push([[0],{108:function(e,t){},109:function(e,t){},113:function(e,t,a){e.exports=a(208)},118:function(e,t,a){},119:function(e,t,a){},138:function(e,t,a){},145:function(e,t,a){},202:function(e,t,a){},204:function(e,t,a){},205:function(e,t,a){},206:function(e,t,a){},208:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(23),s=a.n(r),c=(a(118),a(7)),o=a(53),i=a(10),m=a(11),u=a(36),d=a(35),b=a(34),g=(a(119),a(30)),E=a.n(g),p=a(43),h=a(8),k=a.n(h),v=[{key:1,title:"Make a Booking",desc:"Make Bookings!",link:"/bookings/business"},{key:2,title:"Manage Bookings",desc:"Edit or Cancel your current bookings!",link:"/bookings/manage"},{key:3,title:"Booking History",desc:"View successfully completed bookings",link:"/bookings/past"}],f=[{key:1,title:"Manage Employees",desc:"View, Add or Edit employees!",link:"/workers"},{key:2,title:"Manage Schedule",desc:"Add or Edit working times!",link:"/schedule"},{key:3,title:"Booking Summary",desc:"View a summary of completed bookings or ongoing bookings!",link:"/bookings/summary"}],N="http://milestone2application-env.eba-zp9wdxdp.us-east-1.elasticbeanstalk.com",y=new(function(){function e(){Object(i.a)(this,e)}return Object(m.a)(e,[{key:"postRequest",value:function(){var e=Object(p.a)(E.a.mark((function e(t,a){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",k.a.post("".concat(N).concat(t),a));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}]),e}()),S=function(e){Object(d.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={fullname:"",username:"",password:"",address:"",mobile:"",email:"",hasRegisterFailed:!1},n.handleSubmit=n.handleSubmit.bind(Object(u.a)(n)),n.handleChange=n.handleChange.bind(Object(u.a)(n)),n}return Object(m.a)(a,[{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),console.log(this.state);var a={name:this.state.fullname,username:this.state.username,password:this.state.password,address:this.state.address,email:this.state.email,phoneNumber:this.state.mobile};y.postRequest("/api/customer/register/",a).then((function(e){null!=e.data&&(t.setState(t.intialState),t.props.history.push({pathname:"/",state:{justRegistered:!0,authorised:!0}}))})).catch((function(){t.setState({hasRegisterFailed:!0})}))}},{key:"handleChange",value:function(e){this.setState(Object(o.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){return l.a.createElement("div",{className:"Register",method:"POST"},l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("header",{className:"Register-header"},"Create an Account"),l.a.createElement("div",{className:"form"},this.state.hasRegisterFailed&&l.a.createElement("div",{className:"alert alert-danger"}," Invalid Credentials "),l.a.createElement("div",{className:"form-input"},l.a.createElement("label",null,"Full Name:"),l.a.createElement("input",{type:"fullname",name:"fullname",placeholder:"John Doe",value:this.state.fullname,onChange:this.handleChange,required:!0})),l.a.createElement("div",{className:"form-input"},l.a.createElement("label",null,"Address:"),l.a.createElement("input",{type:"text",name:"address",placeholder:"123 Apple Street",value:this.state.address,onChange:this.handleChange,required:!0})),l.a.createElement("div",{className:"form-input"},l.a.createElement("label",null,"Phone Number:"),l.a.createElement("input",{type:"text",name:"mobile",placeholder:"12345678",value:this.state.mobile,onChange:this.handleChange,required:!0})),l.a.createElement("div",{className:"form-input"},l.a.createElement("label",null,"email:"),l.a.createElement("input",{type:"text",name:"email",placeholder:"john.doe@email.com",value:this.state.email,onChange:this.handleChange,required:!0})),l.a.createElement("div",{className:"form-input"},l.a.createElement("label",null,"Username:"),l.a.createElement("input",{type:"text",name:"username",placeholder:"username",value:this.state.username,onChange:this.handleChange,required:!0})),l.a.createElement("div",{className:"form-input"},l.a.createElement("label",null,"Password:"),l.a.createElement("input",{type:"password",name:"password",placeholder:"password",value:this.state.password,onChange:this.handleChange,required:!0}))),l.a.createElement("div",{className:"footer"},l.a.createElement("button",{className:"button buttonshadow",type:"submit"},"Register"))))}}]),a}(n.Component),O=(a(138),new(function(){function e(){Object(i.a)(this,e)}return Object(m.a)(e,[{key:"executeBasicAuthenticationService",value:function(e,t){return k.a.get("".concat(N,"/auth/").concat(e,"/").concat(t),{headers:{authorization:this.createBasicAuthToken(e,t)}})}},{key:"createBasicAuthToken",value:function(e,t,a){return"Basic "+window.btoa(e+":"+t)}},{key:"registerSuccessfulLogin",value:function(e,t,a){sessionStorage.setItem("authenticatedUser",e),this.setupAxiosInterceptors(this.createBasicAuthToken(e,t))}},{key:"setupAxiosInterceptors",value:function(e){var t=this;k.a.interceptors.request.use((function(a){return t.isUserLoggedIn()&&(a.headers.authorization=e),a}))}},{key:"isUserLoggedIn",value:function(){var e=!0;return null===sessionStorage.getItem("authenticatedUser")&&(e=!1),e}},{key:"getLoggedInUserName",value:function(){var e="",t=sessionStorage.getItem("authenticatedUser");return null!==t&&(e=t),e}},{key:"getLoggedInId",value:function(){var e="",t=sessionStorage.getItem("Id");return null!==t&&(e=t),e}},{key:"getRole",value:function(){var e="",t=sessionStorage.getItem("Role");return null!==t&&(e=t),e}},{key:"getBusinessId",value:function(){var e="",t=sessionStorage.getItem("businessId");return null!==t&&(e=t),e}},{key:"logout",value:function(){sessionStorage.removeItem("authenticatedUser"),sessionStorage.removeItem("Role"),sessionStorage.removeItem("Id"),sessionStorage.removeItem("businessId")}}]),e}())),j=function(e){Object(d.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={username:"",password:"",hasLoginFailed:!1},n.handleSubmit=n.handleSubmit.bind(Object(u.a)(n)),n.handleChange=n.handleChange.bind(Object(u.a)(n)),n._isMounted=!1,n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.setState({hasLoginFailed:!1}),this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this.props.location.state&&(this.props.location.state=null),this._isMounted=!1}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),O.executeBasicAuthenticationService(this.state.username,this.state.password).then((function(e){sessionStorage.setItem("Role",e.data.role),sessionStorage.setItem("Id",e.data.id),O.registerSuccessfulLogin(t.state.username,t.state.password),"CUSTOMER"===O.getRole()?(t.props.history.push("/customer"),t.props.setIsLoggedIn(!0)):"ADMIN"===O.getRole()?(t.props.history.push("/admin"),t.props.setIsLoggedIn(!0)):"WORKER"===O.getRole()?(t.props.history.push("/worker"),t.props.setIsLoggedIn(!0)):(O.logout(),t.props.history.push("/"))})).catch((function(){t.setState({hasLoginFailed:!0})}))}},{key:"handleChange",value:function(e){this.setState(Object(o.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){return l.a.createElement("div",{className:"Login"},l.a.createElement("header",{className:"Login-header"},"AGME LOGIN"),l.a.createElement("div",{className:"form"},this.state.hasLoginFailed&&l.a.createElement("div",{className:"alert alert-warning"}," Invalid Credentials "),this.props.location.state&&this.props.location.state.justRegistered?l.a.createElement("div",{className:"alert alert-success"}," Successfully registered! Please Login to continue "):null,this.props.location.state&&!this.props.location.state.authorised&&l.a.createElement("div",{className:"alert alert-danger"}," Unauthorised Request"),l.a.createElement("div",{className:"form-input"},l.a.createElement("label",null,"Username:"),l.a.createElement("input",{type:"text",name:"username",placeholder:"username",value:this.state.username,onChange:this.handleChange,required:!0})),l.a.createElement("div",{className:"form-input"},l.a.createElement("label",null,"Password:"),l.a.createElement("input",{type:"password",name:"password",placeholder:"password",value:this.state.password,onChange:this.handleChange,required:!0}))),l.a.createElement("div",{className:"footer"},l.a.createElement("button",{className:"button buttonshadow",type:"submit",onClick:this.handleSubmit},"Login")))}}]),a}(n.Component),I=a(12),w=a(15);a(139);var x=function(e){return l.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark"},e.isLoggedIn?l.a.createElement(I.b,{to:"/"+O.getRole().toLowerCase(),className:"navbar-brand nav-text"},"AGME"):l.a.createElement("a",{className:"navbar-brand nav-text",href:"/"},"AGME"),l.a.createElement("div",{className:"navbar-collapse",id:"navbarNav"},l.a.createElement("ul",{className:"navbar-nav"},e.isLoggedIn?l.a.createElement(I.b,{to:"/"+O.getRole().toLowerCase(),className:"nav-link"}," ",l.a.createElement("li",{className:"nav-item"},"Home")," "):l.a.createElement(I.b,{to:"/",className:"nav-link"},l.a.createElement("li",{className:"nav-item"},"Home")),l.a.createElement(I.b,{to:"/about",className:"nav-link"},l.a.createElement("li",{className:"nav-item"},"About & Contact"))),e.isLoggedIn?l.a.createElement("ul",{className:"navbar-nav ml-auto"},l.a.createElement("span",{className:"navbar-text"},O.getLoggedInUserName()),l.a.createElement(I.b,{to:"/",className:"nav-link"},l.a.createElement("li",{onClick:function(){O.logout(),e.setIsLoggedIn(!1)},className:"nav-item"},"Logout"))):l.a.createElement("ul",{className:"navbar-nav ml-auto"},l.a.createElement(I.b,{to:"/",className:"nav-link"},l.a.createElement("li",{className:"nav-item"},"Login")),l.a.createElement(I.b,{to:"/register",className:"nav-link"},l.a.createElement("li",{className:"nav-item"},"Register")))))};var B=function(e){return!O.isUserLoggedIn()||"WORKER"!==O.getRole()&&"ADMIN"!==O.getRole()?l.a.createElement(w.a,{to:{pathname:"/",state:{authorised:!1}}}):l.a.createElement(w.b,e)};var C=function(e){return!O.isUserLoggedIn()||"CUSTOMER"!==O.getRole()&&"ADMIN"!==O.getRole()?l.a.createElement(w.a,{to:{pathname:"/",state:{authorised:!1}}}):l.a.createElement(w.b,e)};var R=function(e){return O.isUserLoggedIn()&&"ADMIN"===O.getRole()?l.a.createElement(w.b,e):l.a.createElement(w.a,{to:{pathname:"/",state:{authorised:!1}}})};a(51);var T=function(e){return l.a.createElement(I.b,{className:"card text-center dashboard-link",to:e.link},l.a.createElement("button",{className:"btn btn-light"},l.a.createElement("div",{className:"card-body card-body-dashboard"},l.a.createElement("h4",{className:"card-title"},e.title),l.a.createElement("p",{className:"card-text"},l.a.createElement("small",{className:"text-muted"},e.desc)),l.a.createElement("p",{className:"card-text"},"Click Here!"))))},A=(a(65),new(function(){function e(){Object(i.a)(this,e)}return Object(m.a)(e,[{key:"getRequest",value:function(){var e=Object(p.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",k.a.get("".concat(N).concat(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getRequestUsername",value:function(){var e=Object(p.a)(E.a.mark((function e(t,a){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",k.a.get("".concat(N).concat(t).concat(a)));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getRequestId",value:function(){var e=Object(p.a)(E.a.mark((function e(t,a){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",k.a.get("".concat(N).concat(t).concat(a)));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}]),e}()));var L=function(e){var t=O.getLoggedInUserName(),a=O.getLoggedInId(),r=Object(n.useState)({}),s=Object(c.a)(r,2),o=s[0],i=s[1],m=Object(n.useState)([]),u=Object(c.a)(m,2),d=u[0],b=u[1];return Object(n.useEffect)((function(){A.getRequestId(e.apiUrl,a).then((function(e){i(e.data),b(e.data.services),e.data.businessId&&sessionStorage.setItem("businessId",e.data.businessId)})).catch((function(){console.log("ERROR USER CANNOT BE FOUND")}))}),[a,e.apiUrl]),l.a.createElement("div",{className:"jumbotron profile"},l.a.createElement("h1",{className:"display-4"},"Hi, ",t,"!"),l.a.createElement("p",{className:"lead"},"View your details"),l.a.createElement("hr",{className:"my-4"}),l.a.createElement("ul",{className:"list-group profile-list"},l.a.createElement("li",{className:"list-group-item"},"Username: ",o.username),l.a.createElement("li",{className:"list-group-item"},"Name: ",o.name),("CUSTOMER"===O.getRole()||"WORKER"===O.getRole())&&l.a.createElement("div",null,l.a.createElement("li",{className:"list-group-item"},"Address: ",o.address),l.a.createElement("li",{className:"list-group-item"},"Phone: ",o.phoneNumber)),"ADMIN"===O.getRole()&&l.a.createElement("li",{className:"list-group-item"},"Business: ",o.businessname),l.a.createElement("li",{className:"list-group-item"},"Role: ",O.getRole()),"WORKER"===O.getRole()&&l.a.createElement("div",{className:"service-heading"},l.a.createElement("h2",{className:"display-4 text-center"}," Services "),d.map((function(e){return l.a.createElement("li",{className:"list-group-item",key:e.id}," ",e.title)})))),"WORKER"!==O.getRole()&&l.a.createElement("button",{className:"btn btn-info profile-btn"},"Edit Details here"))},U=a(19);a(89);var D=function(e){var t=Object(n.useState)([]),a=Object(c.a)(t,2),r=a[0],s=a[1],o=Object(n.useState)([]),i=Object(c.a)(o,2),m=i[0],u=i[1];return Object(n.useEffect)((function(){console.log("bookingslot:",e),s(e.bookingSlot.bookings),u(e.bookingSlot.availableServices)}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement(U.a,{className:"workerbookingslot",bg:"light",key:e.id},l.a.createElement(U.a.Body,null,l.a.createElement(U.a.Header,null,"Booking Slot ",e.bookingSlot.startTime," - ",e.bookingSlot.endTime),l.a.createElement(U.a.Title,{className:"cardtitle"}),l.a.createElement(U.a.Text,{className:"cardtext"},l.a.createElement("table",{className:"table worker-table table-bordered "},l.a.createElement("thead",{className:"thead-light"},l.a.createElement("tr",null,l.a.createElement("td",{class:"slottitle"},"Bookings",e.bookingSlot.capacity,":"),l.a.createElement("td",null,r.length?r.map((function(e){return l.a.createElement(l.a.Fragment,null,"Booking #",e.id,": ",e.customerName,l.a.createElement("br",null))})):"No bookings")),l.a.createElement("tr",null,l.a.createElement("td",{class:"slottitle"},"Available Services:"),l.a.createElement("td",null,m.map((function(e){return l.a.createElement(l.a.Fragment,null,e.title,l.a.createElement("br",null))})))),l.a.createElement("tr",null,l.a.createElement("td",{class:"slottitle"},"Booked Service:"),l.a.createElement("td",null,null!=e.bookingSlot.bookedService?e.bookingSlot.bookedService:"Not set")),l.a.createElement("tr",null,l.a.createElement("td",{class:"slottitle"},"Capacity:"),l.a.createElement("td",null,null!=e.bookingSlot.bookedService?e.bookings.length+" / "+e.bookingSlot.bookedService.capacity:"Not set"))))))),l.a.createElement("br",null))},M="http://milestone2application-env.eba-zp9wdxdp.us-east-1.elasticbeanstalk.com/api/worker",W=new(function(){function e(){Object(i.a)(this,e)}return Object(m.a)(e,[{key:"getAllWorkers",value:function(){return k.a.get(M)}},{key:"getWorkerById",value:function(e){return k.a.get(M+"/"+e)}},{key:"getWorkerByUsername",value:function(e){return k.a.get(M+"/"+e)}},{key:"getWorkSlotByDateAndWorkerId",value:function(e,t){return k.a.get(M+"/"+e+"/work-slots/"+t)}},{key:"getWorkersByBusiness",value:function(e){return k.a.get(M+"/business/"+e)}}]),e}()),F=a(55),q=a.n(F);var H=function(e){var t=q()().format("yyyy-MM-DD").toString(),a=Object(n.useState)([]),r=Object(c.a)(a,2),s=r[0],o=r[1];return Object(n.useEffect)((function(){W.getWorkSlotByDateAndWorkerId(e.workerId,"2007-09-25").then((function(e){o(e.data.length?e.data:[])}))}),[]),console.log(s),s.length?l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",{class:"display-4 text-center"},"Assigned Working Hours",l.a.createElement("br",null),"Today - ",t),s.map((function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement(U.a,{className:"workday",bg:"light",key:e.id},l.a.createElement(U.a.Body,null,l.a.createElement(U.a.Header,{className:"bold"},"Shift: ",e.startTime," - ",e.endTime),l.a.createElement(U.a.Title,{className:"cardtitle"}),l.a.createElement(U.a.Text,{className:"cardtext"},e.bookingSlots.map((function(e){return l.a.createElement(D,{bookingSlot:e})}))))),l.a.createElement("br",null))}))):l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",{class:"display-4 text-center"},"No Assigned Working Hours",l.a.createElement("br",null),"Today (",t,")"))};var P=function(e){return l.a.createElement("div",null,l.a.createElement("div",{className:"card dashboard-card"},l.a.createElement("div",{className:"card-header dashboard-heading-container"},l.a.createElement("h1",{className:"dashboard-heading"},e.title)),l.a.createElement("div",{className:"card-body"},l.a.createElement(L,{apiUrl:e.apiUrl}),"WORKER"!==O.getRole()?l.a.createElement("div",{className:"card-deck dashboard-card-deck"},e.details.map((function(e){return l.a.createElement(T,{key:e.key,title:e.title,desc:e.desc,link:e.link})}))):l.a.createElement(H,{workerId:O.getLoggedInId()}))))};var z=function(e){return l.a.createElement("div",null,l.a.createElement(U.a,{className:"bookingbubble",bg:"light"},l.a.createElement(U.a.Body,null,l.a.createElement(U.a.Header,{className:"text-muted"},"Booking #",e.booking.id),l.a.createElement(U.a.Title,{className:"cardtitle"},e.booking.businessName),l.a.createElement(U.a.Text,{className:"cardtext"},l.a.createElement("span",{className:"bookingbubble-line"},l.a.createElement("span",{className:"bookingbubble-title"},"Service:"),l.a.createElement("span",{className:"bookingbubble-text"},e.booking.serviceTitle),l.a.createElement("br",null)),l.a.createElement("span",{className:"bookingbubble-line"},l.a.createElement("span",{className:"bookingbubble-title"},"Date:"),l.a.createElement("span",{className:"bookingbubble-text"},e.booking.date),l.a.createElement("br",null)),l.a.createElement("span",{className:"bookingbubble-line"},l.a.createElement("span",{className:"bookingbubble-title"},"Start Time:"),l.a.createElement("span",{className:"bookingbubble-text"},e.booking.startTime),l.a.createElement("br",null)),l.a.createElement("span",{className:"bookingbubble-line"},l.a.createElement("span",{className:"bookingbubble-title"},"End Time:"),l.a.createElement("span",{className:"bookingbubble-text"},e.booking.endTime),l.a.createElement("br",null)),l.a.createElement("span",{className:"bookingbubble-line"},l.a.createElement("span",{className:"bookingbubble-title"},"Worker:"),l.a.createElement("span",{className:"bookingbubble-text"},e.booking.workerName),l.a.createElement("br",null))),l.a.createElement(U.a.Footer,{className:"text-right text-muted"},"Completed "))),l.a.createElement("br",null))},V="http://milestone2application-env.eba-zp9wdxdp.us-east-1.elasticbeanstalk.com/api/customer",K=new(function(){function e(){Object(i.a)(this,e)}return Object(m.a)(e,[{key:"getAllCustomers",value:function(){return k.a.get(V)}},{key:"createCustomer",value:function(e){return k.a.post(V,e)}},{key:"getCustomerById",value:function(e){return k.a.get(V+"/"+e)}},{key:"getCustomerBookings",value:function(e){return k.a.get(V+"/"+e+"/bookings")}},{key:"getCustomerPastBookings",value:function(e){return k.a.get(V+"/"+e+"/bookings/past")}},{key:"getCustomerCurrentBookings",value:function(e){return k.a.get(V+"/"+e+"/bookings/current")}}]),e}()),G=function(e){Object(d.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={bookings:[]},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;K.getCustomerPastBookings(O.getLoggedInId()).then((function(t){e.setState({bookings:t.data})}))}},{key:"render",value:function(){var e=l.a.createElement("div",{className:"bookings-header"},"No Bookings Found");return this.state.bookings.length>0&&(e=this.state.bookings.map((function(e){return l.a.createElement(z,{key:e.id,booking:e})}))),l.a.createElement("div",null,l.a.createElement("header",{className:"bookings-header"},l.a.createElement("span",{role:"img","aria-label":"Time emoji"},"\ud83d\udd52")," Booking History ",l.a.createElement("span",{role:"img","aria-label":"Time emoji"},"\ud83d\udd52")),e)}}]),a}(n.Component);a(145);var J=function(){return l.a.createElement("div",{className:"booking-summary-heading"},l.a.createElement("h1",null,"Booking Summary"),l.a.createElement("div",{className:"card-deck booking-summary-deck"},l.a.createElement(T,{title:"Past Bookings",desc:"View a summary of past bookings!",link:"/bookings/summary/past"}),l.a.createElement(T,{title:"New Bookings",desc:"View a summary of new bookings!",link:"/bookings/summary/new"})))},Y=a(100),_=a.n(Y),$=(a(146),"http://milestone2application-env.eba-zp9wdxdp.us-east-1.elasticbeanstalk.com/api/business"),Q=new(function(){function e(){Object(i.a)(this,e)}return Object(m.a)(e,[{key:"getAllBusinesses",value:function(){return k.a.get($)}},{key:"getBusinessPastBookings",value:function(e){return k.a.get($+"/"+e+"/bookings/past")}},{key:"getBusinessById",value:function(e){return k.a.get($+"/"+e)}}]),e}()),X="http://milestone2application-env.eba-zp9wdxdp.us-east-1.elasticbeanstalk.com/api/booking",Z=new(function(){function e(){Object(i.a)(this,e)}return Object(m.a)(e,[{key:"getAllBookings",value:function(){return k.a.get(X)}},{key:"addBooking",value:function(e){return k.a.post(X,e)}},{key:"getNewestBookingSlot",value:function(){return k.a.get(N+"/api/booking-slot/newest")}},{key:"getMatchingBookingSlots",value:function(e){return k.a.post(N+"/api/booking-slot/search",e)}},{key:"getBookingSlotById",value:function(e){return k.a.get(N+"/api/booking-slot/"+e)}},{key:"deleteCustomerBooking",value:function(e){return k.a.delete(X+"/"+e)}}]),e}()),ee=a(61);var te=function(e){var t=e.bookingSlot,a=e.handleChosenSlot,r=Object(n.useState)(null),s=Object(c.a)(r,2),o=s[0],i=s[1],m=Object(n.useState)(t.id),u=Object(c.a)(m,1)[0];return l.a.createElement(l.a.Fragment,null,l.a.createElement(U.a,{className:"bookingbubble",bg:"light",key:t.id},l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),a(u,o)}},l.a.createElement(U.a.Body,null,l.a.createElement(U.a.Header,{className:"text-muted"},"Booking Slot #",t.id),l.a.createElement(U.a.Title,{className:"cardtitle"},t.businessName),l.a.createElement(U.a.Text,{className:"cardtext"},l.a.createElement("span",{className:"bookingbubble-line"},l.a.createElement("span",{className:"bookingbubble-title"},"Date:"),l.a.createElement("span",{className:"bookingbubble-text"},t.date),l.a.createElement("br",null)),l.a.createElement("span",{className:"bookingbubble-line"},l.a.createElement("span",{className:"bookingbubble-title"},"Start Time:"),l.a.createElement("span",{className:"bookingbubble-text"},t.startTime),l.a.createElement("br",null)),l.a.createElement("span",{className:"bookingbubble-line"},l.a.createElement("span",{className:"bookingbubble-title"},"End Time:"),l.a.createElement("span",{className:"bookingbubble-text"},t.endTime),l.a.createElement("br",null)),l.a.createElement("span",{className:"bookingbubble-line"},l.a.createElement("span",{className:"bookingbubble-title"},"Worker:"),l.a.createElement("span",{className:"bookingbubble-text"},t.workerName),l.a.createElement("br",null)),l.a.createElement("span",{className:"bookingbubble-line"},l.a.createElement("span",{className:"bookingbubble-title"},"Services:"),l.a.createElement("span",{className:"bookingbubble-text"},l.a.createElement("select",{name:"service",onChange:function(e){var t=e.target,a=t.name,n=t.value;"service"===a&&i(n)},required:"true"},l.a.createElement("option",{value:"",disabled:!0,selected:!0,hidden:!0},"Select an option"),t.availableServices.map((function(e){return l.a.createElement("option",{key:e.id,value:e.id},e.title)})))),l.a.createElement("br",null))),l.a.createElement(U.a.Footer,{className:"text-right"},l.a.createElement(ee.a,{size:"sm",type:"submit"},"Book"))))),l.a.createElement("br",null))},ae=a(45);var ne=function(e){var t,a,r=Object(n.useState)({id:"",name:"",services:[],workers:[]}),s=Object(c.a)(r,2),o=s[0],i=s[1],m=Object(n.useState)(null),u=Object(c.a)(m,2),d=u[0],b=u[1],g=Object(n.useState)(null),E=Object(c.a)(g,2),p=E[0],h=E[1],k=Object(n.useState)(null),v=Object(c.a)(k,2),f=v[0],N=(v[1],Object(n.useState)(null)),S=Object(c.a)(N,2),j=S[0],I=S[1],w=Object(n.useState)([]),x=Object(c.a)(w,2),B=x[0],C=x[1],R=Object(n.useState)(null),T=Object(c.a)(R,2),A=T[0],L=(T[1],Object(n.useState)(null)),U=Object(c.a)(L,2),D=U[0],M=U[1],W=Object(n.useState)([]),F=Object(c.a)(W,2),H=F[0],P=F[1],z=Object(n.useState)(null),V=Object(c.a)(z,2),G=(V[0],V[1]),J=Object(n.useState)(null),Y=Object(c.a)(J,2),$=Y[0],X=Y[1],ne=Object(n.useState)(""),le=Object(c.a)(ne,2),re=le[0],se=le[1],ce=Object(n.useState)([]),oe=Object(c.a)(ce,2),ie=oe[0],me=oe[1],ue=null,de=null,be=Object(n.useState)(!1),ge=Object(c.a)(be,2),Ee=ge[0],pe=ge[1],he=function(){return pe(!1)};function ke(e){I(e)}function ve(e){me(e)}function fe(e){var t=e.target,a=t.name,n=t.value;"service"===a&&ke(n),"worker"===a&&M(n)}function Ne(e,t){ue=e,de=t,G(e),ke(t),Z.getBookingSlotById(ue).then((function(e){var t,a={customerId:p,workerId:e.data.workerId,businessId:e.data.businessId,bookingSlotId:e.data.id,serviceId:de};t=a,y.postRequest("/api/booking",t).then((function(e){null!=e.data?alert("Booking Created"):alert("error")})).catch((function(){})),he()}))}function ye(e){e.preventDefault();var t={businessId:d,serviceId:j,workerId:D,dateString:re};Z.getMatchingBookingSlots(t).then((function(e){Array.isArray(e.data)?ve(e.data):ve([])})),pe(!0)}return Object(n.useEffect)((function(){K.getCustomerById(O.getLoggedInId()).then((function(e){h(e.data.id)})),Q.getBusinessById(e.match.params.businessId).then((function(e){i(e.data),b(e.data.id),C(e.data.services),P(e.data.workers)}))}),[]),t=B.map((function(e){return l.a.createElement("option",{key:e.id,value:e.id},e.title)})),a=H.map((function(e){return l.a.createElement("option",{key:e.id,value:e.id},e.name)})),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"form"},l.a.createElement("h1",null,"Create a booking at ",o.name,":"),l.a.createElement("br",null),l.a.createElement("form",{onSubmit:ye},l.a.createElement("h4",null,"Service"),l.a.createElement("select",{style:{width:150},name:"service",value:f,onChange:fe},l.a.createElement("option",{key:"0",value:"0"},"-Any-"),t),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("h4",null,"Worker"),l.a.createElement("select",{style:{width:150},name:"worker",value:A,onChange:fe},l.a.createElement("option",{key:"0",value:"0"},"-Any-"),a),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("h4",null,"Date"),l.a.createElement(_.a,{name:"date",selected:$,onChange:function(e){if(null===e)X(""),se("");else{var t=q()(e).format("YYYY-MM-DD");X(e),se(t)}},isClearable:!0,dateFormat:"yyyy/MM/dd",placeholderText:"No Date Specified"}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",null,l.a.createElement("input",{type:"button",onClick:ye,value:"Search for Bookings"})))),l.a.createElement(ae.a,{show:Ee,onHide:he},l.a.createElement(ae.a.Header,{closeButton:!0},l.a.createElement(ae.a.Title,null,"Choose a Booking")),l.a.createElement(ae.a.Body,null,ie.map((function(e){return l.a.createElement(te,{bookingSlot:e,handleChosenSlot:function(e,t){return Ne(e,t)}})}))),l.a.createElement(ae.a.Footer,null,l.a.createElement(ee.a,{variant:"secondary",onClick:he},"Close"))))};var le=function(e){return l.a.createElement(I.b,{className:"card w-25 list-group-item text-center business-card list-group-item-action",to:"".concat("/bookings/create/").concat(e.id)},l.a.createElement("div",{className:"card-body"},l.a.createElement("h5",{className:"card-text"},e.businessName)))};a(202);var re=function(){var e=Object(n.useState)([]),t=Object(c.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){Q.getAllBusinesses().then((function(e){r(e.data)})).catch((function(){console.log("Error in getting businesses"),r([])}))}),[]),l.a.createElement("div",{className:"booking-summary-heading"},l.a.createElement("h1",{className:"select-business-page-header"},"Select a business"),l.a.createElement("ul",{className:"list-group business-card-list-group"},a.length>0?a.map((function(e){return l.a.createElement(le,{key:e.id,id:e.id,businessName:e.name})})):l.a.createElement("div",null,l.a.createElement("h1",null," No businesses available "))))},se=new(function(){function e(){Object(i.a)(this,e)}return Object(m.a)(e,[{key:"getAdminById",value:function(e){return k.a.get("http://milestone2application-env.eba-zp9wdxdp.us-east-1.elasticbeanstalk.com/api/admin/"+e)}}]),e}());var ce=function(e){var t=Object(n.useState)([]),a=Object(c.a)(t,2),r=a[0],s=a[1];return Object(n.useEffect)((function(){se.getAdminById(O.getLoggedInId()).then((function(e){!function(e){Q.getBusinessPastBookings(e).then((function(e){s(e.data)})).catch()}(e.data.businessId)})).catch()}),[]),l.a.createElement("div",null,l.a.createElement("header",{className:"bookings-header"},l.a.createElement("span",{role:"img","aria-label":"Time emoji"},"\ud83d\udd52")," ",e.title," ",l.a.createElement("span",{role:"img","aria-label":"Time emoji"},"\ud83d\udd52")),r.length>0?r.map((function(e){return l.a.createElement(z,{key:e.id,booking:e})})):l.a.createElement("div",{className:"bookings-header"},"No Bookings Found"))};var oe=function(e){return l.a.createElement("div",null,l.a.createElement(U.a,{className:"bookingbubble",bg:"light"},l.a.createElement(U.a.Body,null,l.a.createElement(U.a.Header,{className:"text-muted"},"Booking #",e.booking.id),l.a.createElement(U.a.Title,{className:"cardtitle"},e.booking.businessName),l.a.createElement(U.a.Text,{className:"cardtext"},l.a.createElement("span",{className:"bookingbubble-line"},l.a.createElement("span",{className:"bookingbubble-title"},"Service:"),l.a.createElement("span",{className:"bookingbubble-text"},e.booking.serviceTitle),l.a.createElement("br",null)),l.a.createElement("span",{className:"bookingbubble-line"},l.a.createElement("span",{className:"bookingbubble-title"},"Date:"),l.a.createElement("span",{className:"bookingbubble-text"},e.booking.date),l.a.createElement("br",null)),l.a.createElement("span",{className:"bookingbubble-line"},l.a.createElement("span",{className:"bookingbubble-title"},"Start Time:"),l.a.createElement("span",{className:"bookingbubble-text"},e.booking.startTime),l.a.createElement("br",null)),l.a.createElement("span",{className:"bookingbubble-line"},l.a.createElement("span",{className:"bookingbubble-title"},"End Time:"),l.a.createElement("span",{className:"bookingbubble-text"},e.booking.endTime),l.a.createElement("br",null)),l.a.createElement("span",{className:"bookingbubble-line"},l.a.createElement("span",{className:"bookingbubble-title"},"Worker:"),l.a.createElement("span",{className:"bookingbubble-text"},e.booking.workerName),l.a.createElement("br",null))),l.a.createElement(U.a.Footer,{className:"text-right text-muted"},l.a.createElement(ee.a,{variant:"danger",onClick:function(){Z.deleteCustomerBooking(e.booking.id).then((function(e){null!=e.data&&alert("Booking deleted sucessfully")}))}},"CANCEL")))),l.a.createElement("br",null))},ie=function(e){Object(d.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={bookings:[]},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;K.getCustomerCurrentBookings(O.getLoggedInId()).then((function(t){e.setState({bookings:t.data})}))}},{key:"render",value:function(){var e=l.a.createElement("div",{className:"bookings-header"},"No Bookings Found");return this.state.bookings.length>0&&(e=this.state.bookings.map((function(e){return l.a.createElement(oe,{key:e.id,booking:e})}))),l.a.createElement("div",null,l.a.createElement("header",{className:"bookings-header"},l.a.createElement("span",{role:"img","aria-label":"Time emoji"},"\ud83d\udd52")," Bookings ",l.a.createElement("span",{role:"img","aria-label":"Time emoji"},"\ud83d\udd52")),e)}}]),a}(n.Component),me=a(107),ue=a.n(me);var de=function(e){return l.a.createElement("div",null,l.a.createElement(I.b,{to:"/workers/add",className:"employee-link"},l.a.createElement("button",{type:"button",className:"btn btn-primary list-group-item add-task-button"},l.a.createElement("li",null,"Add Employee...",l.a.createElement(ue.a,{className:"icon-margin"})))))};var be=function(e){return l.a.createElement(I.b,{to:"/worker/".concat(e.id),className:"employee-link"},l.a.createElement("button",{className:"list-group-item custom-list-item task list-button"},l.a.createElement("li",null," ",e.name)))};var ge=function(){var e=Object(n.useState)([]),t=Object(c.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){W.getWorkersByBusiness(O.getBusinessId()).then((function(e){r(e.data)})).catch()}),[]),l.a.createElement("div",{className:"card list list-width"},l.a.createElement("ul",{className:"list-group list-group-flush remove-list-bullet"},a.map((function(e){return l.a.createElement(be,{key:e.id,id:e.id,name:e.name})})),l.a.createElement(de,null)))};a(204);var Ee=function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"container-fluid"},l.a.createElement("h1",{className:"display-4 list-title"},"Employees"),l.a.createElement(ge,null)))};var pe=function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"worker-assigned-hours-heading"},l.a.createElement("h1",null,"Assigned Working Hours")),l.a.createElement("div",{className:"container"},l.a.createElement("table",{className:"table worker-table table-bordered "},l.a.createElement("thead",{className:"thead-light"},l.a.createElement("tr",null,l.a.createElement("th",null,"Date"),l.a.createElement("th",null,"Day"),l.a.createElement("th",null,"Time"),l.a.createElement("th",null,"Service"))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,"29/08/20"),l.a.createElement("td",null,"Saturday"),l.a.createElement("td",null,"10:00 - 13:00"),l.a.createElement("td",null,"Hairdressing"))))))};var he=function(e){var t=Object(n.useState)({}),a=Object(c.a)(t,2),r=a[0],s=a[1],o=Object(n.useState)([]),i=Object(c.a)(o,2),m=i[0],u=i[1];return Object(n.useEffect)((function(){A.getRequestId(e.apiUrl,e.match.params.workerId).then((function(e){s(e.data),u(e.data.services),console.log(e.data)})).catch((function(){console.log("ERROR USER CANNOT BE FOUND")}))}),[e.apiUrl,e.match.params.workerId]),l.a.createElement("div",{className:"card dashboard-card"},l.a.createElement("div",{className:"card-header dashboard-heading-container"},l.a.createElement("h1",{className:"dashboard-heading"},"View Worker Details")),l.a.createElement("div",{className:"jumbotron profile"},l.a.createElement("h1",{className:"display-4"},r.name),l.a.createElement("p",{className:"lead"},"View Details"),l.a.createElement("hr",{className:"my-4"}),l.a.createElement("ul",{className:"list-group profile-list"},l.a.createElement("li",{className:"list-group-item"},"Username: ",r.username),l.a.createElement("li",{className:"list-group-item"},"Name: ",r.name),l.a.createElement("li",{className:"list-group-item"},"Address: ",r.address),l.a.createElement("li",{className:"list-group-item"},"Phone: ",r.phoneNumber),l.a.createElement("li",{className:"list-group-item"},"Role: WORKER"),l.a.createElement("div",{className:"service-heading"},l.a.createElement("h2",{className:"display-4 text-center"}," Services "),m.map((function(e){return l.a.createElement("li",{className:"list-group-item",key:e.id}," ",e.title)})))),l.a.createElement(I.b,{to:"/workers/edit/".concat(e.match.params.workerId)},l.a.createElement("button",{className:"btn btn-info profile-btn"},"Edit Details here"))),l.a.createElement(pe,null))},ke=a(108),ve=a.n(ke),fe=a(109),Ne=a.n(fe),ye=(a(205),a(110)),Se=a(111),Oe=a(44);var je=function(){return l.a.createElement("div",{className:"about-page"},l.a.createElement("div",{className:"about-section"},l.a.createElement("h1",null,"About Us"),l.a.createElement("p",null,"Welcome to AGME!"),l.a.createElement("p",null,"We're dedicated to providing you the best of all services, with a focus on dependability. customer service, and luxury. We hope you enjoy our services as much as we enjoy offering them to you."),l.a.createElement("p",null,"Sincerely, AGME Team")),l.a.createElement("h2",{className:"about-header"}," Our Team"),l.a.createElement(ye.a,null,l.a.createElement(Se.a,null,l.a.createElement(Oe.a,null,l.a.createElement("div",{className:"card"},l.a.createElement("h3",null,"Austin"),l.a.createElement("p",null,"Insert Title"),l.a.createElement("p",null,"Some text that describes me lorem ipsum ipsum lorem."),l.a.createElement("p",null,"email@example.com"))),l.a.createElement(Oe.a,null,l.a.createElement("div",{className:"card"},l.a.createElement("h3",null,"Joshua"),l.a.createElement("p",null,"Insert Title"),l.a.createElement("p",null,"Some text that describes me lorem ipsum ipsum lorem."),l.a.createElement("p",null,"email@example.com"))),l.a.createElement(Oe.a,null,l.a.createElement("div",{className:"card"},l.a.createElement("h3",null,"Danny"),l.a.createElement("p",null,"Insert Title"),l.a.createElement("p",null,"Some text that describes me lorem ipsum ipsum lorem."),l.a.createElement("p",null,"email@example.com"))),l.a.createElement(Oe.a,null,l.a.createElement("div",{className:"card"},l.a.createElement("h3",null,"Daniel"),l.a.createElement("p",null,"Insert Title"),l.a.createElement("p",null,"Some text that describes me lorem ipsum ipsum lorem."),l.a.createElement("p",null,"email@example.com"))),l.a.createElement(Oe.a,null,l.a.createElement("div",{className:"card"},l.a.createElement("h3",null,"Umer"),l.a.createElement("p",null,"Insert Title"),l.a.createElement("p",null,"Some text that describes me lorem ipsum ipsum lorem."),l.a.createElement("p",null,"email@example.com"))))))};a(206);var Ie=function(){return l.a.createElement("footer",{id:"footer"},l.a.createElement("div",{className:"inner-footer"},l.a.createElement("ul",{className:"copyright"},l.a.createElement("li",{className:"footer-item"},"@8.MON-17.30-2"))))};var we=function(){var e=Object(n.useState)(O.isUserLoggedIn()),t=Object(c.a)(e,2),a=t[0],r=t[1];return l.a.createElement(I.a,null,l.a.createElement("div",null,l.a.createElement(w.b,{path:"/",render:function(e){return l.a.createElement(x,Object.assign({},e,{isLoggedIn:a,setIsLoggedIn:r}))}}),l.a.createElement(w.d,null,l.a.createElement(w.b,{path:"/",exact:!0,render:function(e){return l.a.createElement(j,Object.assign({},e,{isLoggedIn:a,setIsLoggedIn:r}))}}),l.a.createElement(w.b,{path:"/register",exact:!0,component:S}),l.a.createElement(w.b,{path:"/about",exact:!0,component:je}),l.a.createElement(C,{path:"/customer",exact:!0,render:function(e){return l.a.createElement(P,Object.assign({},e,{title:"Customer Dashboard",details:v,apiUrl:"CUSTOMER"===O.getRole()?"/api/customer/":"/api/admin/"}))}}),l.a.createElement(C,{path:"/bookings/past",exact:!0,component:G}),l.a.createElement(C,{path:"/bookings/create/:businessId",exact:!0,component:ne}),l.a.createElement(C,{path:"/bookings/business",exact:!0,component:re}),l.a.createElement(C,{path:"/bookings/manage",exact:!0,component:ie}),l.a.createElement(R,{path:"/admin",exact:!0,render:function(e){return l.a.createElement(P,Object.assign({},e,{title:"Admin Dashboard",details:f,apiUrl:"/api/admin/"}))}}),l.a.createElement(R,{path:"/bookings/summary",exact:!0,render:function(e){return l.a.createElement(J,e)}}),l.a.createElement(R,{path:"/bookings/summary/past",exact:!0,render:function(e){return l.a.createElement(ce,Object.assign({},e,{title:"Past Booking Summary"}))}}),l.a.createElement(R,{path:"/workers",exact:!0,render:function(e){return l.a.createElement(Ee,e)}}),l.a.createElement(R,{path:"/worker/:workerId",exact:!0,render:function(e){return l.a.createElement(he,Object.assign({},e,{apiUrl:"/api/worker/"}))}}),l.a.createElement(R,{path:"/workers/edit/:workerId",exact:!0,render:function(e){return l.a.createElement(ve.a,e)}}),l.a.createElement(R,{path:"/workers/add",exact:!0,render:function(e){return l.a.createElement(Ne.a,e)}}),l.a.createElement(B,{path:"/worker",exact:!0,render:function(e){return l.a.createElement(P,Object.assign({},e,{title:"Worker Dashboard",apiUrl:"/api/worker/"}))}})),l.a.createElement(w.b,{path:"/",render:function(e){return l.a.createElement(Ie,null)}})))};var xe=function(){return l.a.createElement(we,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(xe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},51:function(e,t,a){},65:function(e,t,a){},89:function(e,t,a){}},[[113,1,2]]]);
//# sourceMappingURL=main.621ed2b6.chunk.js.map